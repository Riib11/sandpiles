package com.henry.sandpiles;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.NumberFormat;

import javax.swing.JButton;
import javax.swing.JFormattedTextField;
import javax.swing.JPanel;

public class InputPanel extends JPanel {

	private JFormattedTextField inputNumber;

	public InputPanel() {
		NumberFormat inputFormat = NumberFormat.getNumberInstance();
		inputFormat.setMinimumIntegerDigits(1);
		inputFormat.setMaximumIntegerDigits(4);
		inputFormat.setParseIntegerOnly(true);

		inputNumber = new JFormattedTextField(inputFormat);

		JButton createSandpileButton = new JButton("Create Sandpile");
		createSandpileButton.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				int sandNumber = Integer.valueOf(inputNumber.getText());
				try {
					Sandpile sp = new Sandpile(sandNumber, true, 4, false,
							Main.display, 1);
				} catch (InterruptedException e1) {
					// TODO Auto-generated catch block
					e1.printStackTrace();
				}
			}
		});
	}
}
